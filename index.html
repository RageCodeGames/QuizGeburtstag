<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#1a365d">
    <title>Reise-Journal ğŸŒ</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <!-- PASSWORT-SPERRE (erscheint vor allem anderen) -->
    <div class="password-screen" id="passwordScreen">
        <div class="password-container">
            <div class="lock-icon-big">ğŸ”’</div>
            <h1>ğŸ GeschÃ¼tzt</h1>
            <p class="password-hint">Dieses Geschenk ist noch versiegelt.<br/>Du erhÃ¤ltst das Passwort am 24.12.2025!</p>
            
            <div class="password-input-group">
                <input type="password" id="passwordInput" placeholder="Passwort eingeben...">
                <button id="passwordBtn" class="password-btn">Entsperren ğŸ”“</button>
            </div>
            
            <div class="password-error" id="passwordError"></div>
        </div>
    </div>

    <div class="container" id="mainApp" style="display: none;">
        <!-- Header -->
        <header>
            <h1>ğŸŒ Dein Reise-Journal</h1>
            <p class="subtitle">Sammle alle Codes bis zur Abreise!</p>
        </header>

        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>
            <p class="progress-text" id="progressText">0/17 Teile gesammelt</p>
        </div>

        <!-- Quiz Section -->
        <div class="quiz-section" id="quizSection">
            <div class="question-card">
                <div class="question-number" id="questionNumber">Frage 1</div>
                <h2 class="question-text" id="questionText">Lade Frage...</h2>
                
                <div class="answer-input">
                    <input type="text" id="answerInput" placeholder="Deine Antwort...">
                    <button id="submitBtn" class="submit-btn">PrÃ¼fen âœ“</button>
                </div>

                <div class="message" id="message"></div>
            </div>

            <!-- Locked State -->
            <div class="locked-message" id="lockedMessage" style="display: none;">
                <div class="lock-icon">ğŸ”’</div>
                <h3>NÃ¤chste Frage in:</h3>
                <div class="countdown" id="countdown">...</div>
                <p>Die nÃ¤chste Frage wird am <span id="nextDate"></span> freigeschaltet!</p>
            </div>
        </div>

        <!-- Binary Code Display -->
        <div class="binary-section" id="binarySection">
            <h3>ğŸ“Š Gesammelte Daten:</h3>
            <div class="binary-display" id="binaryDisplay"></div>
            <p class="binary-hint">Was bedeutet das wohl? ğŸ¤”</p>
        </div>

        <!-- Final QR Section - NUR DIESER EINE! -->
        <div class="qr-section" id="qrSection" style="display: none;">
            <h2>ğŸ‰ Du hast es geschafft!</h2>
            <p>Scanne diesen Code:</p>
            <div id="qrCanvas"></div>
            <p class="qr-hint">ğŸ’¡ Tipp: Halte dein Handy weiter weg vom Bild...</p>
            
            <!-- AuflÃ¶sungs-Button -->
            <button id="revealBtn" class="reveal-btn" style="display: none;">
                ğŸ”“ Geheimnis lÃ¼ften
            </button>
            
            <!-- AuflÃ¶sungs-Animation -->
            <div class="reveal-animation" id="revealAnimation" style="display: none;">
                <h3>ğŸ’¡ Wusstest du schon...</h3>
                <p class="reveal-hint">Das Passwort war die ganze Zeit ein Hinweis!</p>
                
                <div class="password-reveal" id="passwordReveal"></div>
                
                <div class="final-word" id="finalWord"></div>
            </div>
        </div>
    </div> <!-- mainApp SCHLIESST HIER -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="app.js"></script>
</body>
</html>